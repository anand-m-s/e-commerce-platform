<%-include("./partials/header") %>
    <%-include("./partials/navigation") %>


    <div class="container">
        <h1 class="d-flex justify-content-center mb-4">Wallet</h1>
        <div class="row">
          <div class="col-md-4">
            <h3>Welcome ðŸ‘‹, <%= username %></h3>
            <% if (userWallet) { %>
              <h4>Your Wallet Details</h4>
              <h5>Balance: â‚¹<%= userWallet.balance %></h5>
            <% } else { %>
              <p>No wallet created yet.</p>
            <% } %>
            <!-- <h5>TOP UP</h5>
              <input type="number" class="p-1" id="topUp" placeholder="Top up">
              <button class="btn btn-success "> Topup</button> -->
         
          </div>
      
          <div class="col-md-8">
            <% if (userWallet && userWallet.transactions.length > 0) { %>
              <h3 class="d-flex justify-content-center bg-black text-white">Your Wallet Transactions</h3>
              <table class="table table-striped table-bordered">
                <thead>
                  <tr>
                    <th>Date</th>
                    <th>Amount</th>
                    <th>Type</th>
                  </tr>
                </thead>
                <tbody>
                  <% transactions.forEach(transaction => { %>
                    <tr>
                      <td><%= transaction.date.toLocaleDateString() %></td>
                      <td><%= transaction.amount %></td>
                      <td><%= transaction.type %></td>
                    </tr>
                  <% }) %>
                </tbody>
              </table>
            <% } else if (userWallet) { %>
              <p>No transactions yet.</p>
            <% } %>
            <div class="pagination-container">
              <nav aria-label="Page navigation example">
                <ul class="pagination">
                  <% if (currentPage > 1) { %>
                      <li class="page-item">
                        <a class="page-link" href="/wallet?page=<%= currentPage - 1 %>" aria-label="Previous">
                          <span aria-hidden="true">&laquo;</span>
                        </a>
                      </li>
                    <% } %>
                    
                    <% for (let i = 1; i <= totalPages; i++) { %>
                      <li class="page-item <%= i === currentPage ? 'active' : '' %>">
                        <a class="page-link" href="/wallet?page=<%= i %>"><%= i %></a>
                      </li>
                    <% } %>
                    
                    <% if (currentPage < totalPages) { %>
                      <li class="page-item">
                        <a class="page-link" href="/wallet?page=<%= currentPage + 1 %>" aria-label="Next">
                          <span aria-hidden="true">&raquo;</span>
                        </a>
                      </li>
                    <% } %>
                    
                </ul>
              </nav>
            </div>
          </div>
        </div>
      </div>
      
    
    



        <%-include("./partials/footer") %>
            <%- include("./partials/end") %>